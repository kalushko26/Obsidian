---
title: –ß—Ç–æ —Ç–∞–∫–æ–µ NPM (Node Package Manager) ?
draft: false
tags:
  - npm
  - NodeJS
---
–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å JavaScript-–ø–∞–∫–µ—Ç—ã –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é npm ‚Äì –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ Node.js.

![üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ npm? –ì–∞–π–¥ –ø–æ Node Package Manager –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö](https://media.proglib.io/posts/2020/07/21/34f88ac2f20738f5275d44008ca5f996.jpg)

–ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞¬†[Node.js](https://ru.wikipedia.org/wiki/Node.js)¬†–ø–æ—è–≤–∏–ª–∞—Å—å –≤ 2009 –≥., –∏ —Å —Ç–µ—Ö –ø–æ—Ä –Ω–∞ –Ω–µ–π –±—ã–ª–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–¥–Ω–æ–π –∏–∑ –ø—Ä–∏—á–∏–Ω —É—Å–ø–µ—Ö–∞ —Å—Ç–∞–ª¬†[npm](https://ru.wikipedia.org/wiki/Npm)¬†‚Äì –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π JS-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±—ã—Å—Ç—Ä–æ –¥–µ–ª–∏—Ç—å—Å—è –ø–∞–∫–µ—Ç–∞–º–∏.

–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –≤ npm —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è 1.3 –º–ª–Ω –ø–∞–∫–µ—Ç–æ–≤ —Å –æ–±—â–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–π 16 –º–ª—Ä–¥.

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ npm?

`npm` (Node Package Manager) ‚Äì –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è JavaScript, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞ Node.js. –ú–µ–Ω–µ–¥–∂–µ—Ä¬†npm —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:

-   `CLI` (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏) ‚Äì —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤,
-   [–æ–Ω–ª–∞–π–Ω-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://www.npmjs.com/), —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ JS –ø–∞–∫–µ—Ç—ã.

–°—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è¬†[npmjs.com](https://npmjs.com/)¬†–º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, –∫–∞–∫ —Ü–µ–Ω—Ç—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã (npm-–ø–∞–∫–µ—Ç—ã) –æ—Ç –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (–∞–≤—Ç–æ—Ä—ã –ø–∞–∫–µ—Ç–æ–≤) –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç —ç—Ç–∏ —Ç–æ–≤–∞—Ä—ã —Å—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–∞–∫–µ—Ç–æ–≤).

–í —Ü–µ–Ω—Ç—Ä–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ ([npmjs.com](https://npmjs.com/))¬†–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è¬†—Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Ä–º–∏—è¬†[–≤–æ–º–±–∞—Ç–æ–≤](https://ru.wikipedia.org/wiki/%D0%92%D0%BE%D0%BC%D0%B1%D0%B0%D1%82%D0%BE%D0%B2%D1%8B%D0%B5)¬†(`npm CLI`).

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º (–†–∏—Å. 1).

![–†–∏—Å. 1. –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ <code class="inline-code">npm install</code>](https://media.proglib.io/posts/2020/07/19/85d0ec896b3ad06d69bc27c49c317612.png)

–†–∏—Å. 1. –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑¬†`npm install`

–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ –†–∏—Å. 2.

![–†–∏—Å. 2. –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ <code class="inline-code">npm publish</code>](https://media.proglib.io/posts/2020/07/19/5e2cd72e42190a38f0f46cf7da1d018d.png)

–†–∏—Å. 2. –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑¬†`npm publish`

–¢–µ–ø–µ—Ä—å –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–±–æ—Ç—É –≤–æ–º–±–∞—Ç–æ–≤.

### 1.1. –§–∞–π–ª package.json

–ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –≤ JavaScript ‚Äì –±—É–¥—å —Ç–æ¬†Node.js¬†–∏–ª–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äì –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ npm-–ø–∞–∫–µ—Ç —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Ñ–∞–π–ª–æ–º¬†`package.json`.

`package.json`¬†–º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, –∫–∞–∫ —Å—Ç–∏–∫–µ—Ä—ã (—Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –Ω—É–∂–Ω—ã—Ö –≤–µ—Ä—Å–∏–π) –Ω–∞ npm-–∫–æ—Ä–æ–±–∫–µ (–ø—Ä–æ–µ–∫—Ç). –§–∞–π–ª¬†–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π¬†`npm init`¬†–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ JavaScript/Node.js –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:

-   `name`: –Ω–∞–∑–≤–∞–Ω–∏–µ JS –±–∏–±–ª–∏–æ—Ç–µ–∫–∏/–ø—Ä–æ–µ–∫—Ç–∞.
-   `version`: –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞.
-   `description`: –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.
-   `license`: –ª–∏—Ü–µ–Ω–∑–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

### 1.2. –°–∫—Ä–∏–ø—Ç—ã npm

–í¬†`package.json`¬†–≤–∫–ª—é—á–µ–Ω–æ –ø–æ–ª–µ¬†`scripts`¬†–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```json
	{   
	"scripts": {     
		"build": "tsc",     
		"format": "prettier --write **/*.ts",     
		"format-check": "prettier --check **/*.ts",     
		"lint": "eslint src/**/*.ts",     
		"pack": "ncc build",     
		"test": "jest",     
		"all": "npm run build && npm run format && npm run lint && npm run pack && npm test"   
	} 
}
```

`eslint`,¬†`prettier`,¬†`ncc`,¬†`jest`¬†–º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω–æ –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏¬†`node_modules/.bin/`.

### 1.3. dependencies –∏ devDependencies

`dependencies`¬†–∏¬†`devdependencies`¬†–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Å–ª–æ–≤–∞—Ä–∏ —Å –∏–º–µ–Ω–∞–º–∏ npm-–±–∏–±–ª–∏–æ—Ç–µ–∫ (–∫–ª—é—á) –∏ –∏—Ö¬†[—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ—Ä—Å–∏–∏](https://semver.org/lang/ru/)¬†(–∑–Ω–∞—á–µ–Ω–∏–µ). –ü—Ä–∏–º–µ—Ä –∏–∑ —à–∞–±–ª–æ–Ω–∞¬†[TypeScript Action](https://github.com/actions/typescript-action):

```json
{   
	"dependencies": {     
		"@actions/core": "^1.2.3",     
		"@actions/github": "^2.1.1"   
	},   
	"devDependencies": {     
		"@types/jest": "^25.1.4",     
		"@types/node": "^13.9.0",     
		"@typescript-eslint/parser": "^2.22.0",     
		"@zeit/ncc": "^0.21.1",     
		"eslint": "^6.8.0",     
		"eslint-plugin-github": "^3.4.1",     
		"eslint-plugin-jest": "^23.8.2",     
		"jest": "^25.1.0",     
		"jest-circus": "^25.1.0",     
		"js-yaml": "^3.13.1",     
		"prettier": "^1.19.1",     
		"ts-jest": "^25.2.1",     
		"typescript": "^3.8.3"   
	} 
}
```   

–≠—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥–Ω–æ–π¬†`npm install`¬†—Å —Ñ–ª–∞–≥–∞–º–∏¬†`--save`¬†–∏¬†`--save-dev`. –û–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã¬†—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ¬†–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

–û –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏:
-   `^`: –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∏–Ω–æ—Ä–Ω—ã–π —Ä–µ–ª–∏–∑. –ù–∞–ø—Ä–∏–º–µ—Ä,¬†`^1.0.4`¬†—É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤–µ—Ä—Å–∏—é¬†`1.3.0`, –µ—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∏–Ω–æ—Ä–Ω—ã–π —Ä–µ–ª–∏–∑ –≤ —Å–µ—Ä–∏–∏¬†`1`¬†–º–∞–∂–æ—Ä–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞.
-   `~`: –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–∞—Ç—á-—Ä–µ–ª–∏–∑.¬†`~1.0.4`¬†—É—Å—Ç–∞–Ω–æ–≤–∏—Ç¬†`1.0.7`, –µ—Å–ª–∏ —ç—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –º–∏–Ω–æ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ —Å–µ—Ä–∏–∏ –º–∏–Ω–æ—Ä–Ω—ã—Ö —Ä–µ–ª–∏–∑–æ–≤¬†`1.0`.

–í—Å–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ¬†`package-lock.json`.

### 1.4. –§–∞–π–ª package-lock.json

–§–∞–π–ª¬†`package-lock.json`¬†–æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ JavaScript-–ø—Ä–æ–µ–∫—Ç–µ. –ï—Å–ª–∏¬†`package.json`¬†–≤–∫–ª—é—á–∞–µ—Ç –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞), —Ç–æ¬†`package-lock.json`¬†–±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π ‚Äì –≤—Å—ë –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

`package-lock.json`¬†–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π¬†`npm install`¬†–∏ —á–∏—Ç–∞–µ—Ç—Å—è npm CLI, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑¬†`npm ci`.

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

–¢–∞–∫ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—â–µ —Å–∫–∞—á–∏–≤–∞—é—Ç –ø–∞–∫–µ—Ç—ã (16 –º–ª—Ä–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–π –ø—Ä–æ—Ç–∏–≤ 13 –º–ª–Ω –ø—É–±–ª–∏–∫–∞—Ü–∏–π), —Ö–æ—Ä–æ—à–æ –±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, –∫–∞–∫ –∏—Ö —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å.

### 2.1. npm install

`npm install`¬†‚Äì¬†–∫–æ–º–∞–Ω–¥–∞, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è –ø–∞–∫–µ—Ç—ã.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é¬†`npm install <package-name>`¬†—Å–æ –∑–Ω–∞–∫–æ–º¬†`^`¬†—É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –ø–∞–∫–µ—Ç–∞.¬†`npm install`¬†—Å–∫–∞—á–∞–µ—Ç –ø–∞–∫–µ—Ç –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞¬†`node_modules`¬†–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –≤ —Ñ–∞–π–ª–µ¬†`package.json`, –æ–±–Ω–æ–≤–∏–≤ –≤–µ—Ä—Å–∏—é –ø–∞–∫–µ—Ç–∞ –≤–µ–∑–¥–µ, –≥–¥–µ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ (–∏, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –æ–±–Ω–æ–≤–∏–≤¬†`package-lock.json`).¬†–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ¬†—É–∫–∞–∑–∞—Ç—å —Ñ–ª–∞–≥¬†`-g`¬†.

npm —Å–¥–µ–ª–∞–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤ JavaScript –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ–π, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ —á–∞—Å—Ç–æ¬†–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —Ä–∞–∑—Ä–∞–±–æ–≤ –ø–æ—è–≤–∏–ª–∏—Å—å –º–µ–º—ã –Ω–∞ —ç—Ç—É —Ç–µ–º—É:

![–†–∏—Å. 3. –ú–µ–º –ø—Ä–æ node_modules](https://media.proglib.io/posts/2020/07/19/37cea30aa579d68596dc59f7088b474e.png)

–†–∏—Å. 3. –ú–µ–º –ø—Ä–æ node_modules

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–ª–∞–≥–∞¬†`--production`¬†—É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑¬†`dependencies`, –Ω–µ —Ä–∞–∑–¥—É–≤–∞—è¬†`node_modules`.

### 2.2. npm ci

–ï—Å–ª–∏¬†`npm install --production`¬†–æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏?¬†–î–∞, –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è¬†`npm ci`.

–ö–∞–∫ –∏ —Ä–∞–Ω—å—à–µ, –µ—Å–ª–∏¬†`package-lock.json`¬†–µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ, –æ–Ω –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`npm install`.¬†`npm ci`¬†–æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Lock-—Ñ–∞–π–ª—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ—á–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º,¬†–Ω–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö¬†–Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.

### 2.3. npm audit

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è¬†–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏¬†[–≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤](https://medium.com/@jsoverson/how-two-malicious-npm-packages-targeted-sabotaged-one-other-fed7199099c8), –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è npm.js –ø—Ä–∏—à–ª–∞ –∫¬†[–∏–¥–µ–µ](https://blog.npmjs.org/post/173719309445/npm-audit-identify-and-fix-insecure)¬†–∞—É–¥–∏—Ç–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã, —Å–æ–∑–¥–∞–≤ –º–æ–¥—É–ª—å¬†`npm audit`. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö –≤ –ø–∞–∫–µ—Ç–∞—Ö –∏ –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –≤–µ—Ä—Å–∏–π —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏.

![–ü—Ä–∏–º–µ—Ä –∞—É–¥–∏—Ç–∞ –¥–ª—è –ø–∞–∫–µ—Ç–∞ static-eval](https://media.proglib.io/posts/2020/07/21/d211971466b62be8fd6d819dcff79478.png)

–ü—Ä–∏–º–µ—Ä –∞—É–¥–∏—Ç–∞ –¥–ª—è –ø–∞–∫–µ—Ç–∞ static-eval

–ï—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –ø–∞–∫–µ—Ç–∞,¬†`npm audit fix`¬†–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –≤–µ—Ä—Å–∏–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## 3. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

–ü–µ—Ä–µ–π–¥–µ–º –æ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –∫ –∏—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏—é.

### 3.1. npm publish

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –≤ npmjs.com –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ ‚Äì –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏¬†`npm publish`. –í–∞–∂–Ω–∞—è —á–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–∞—é—Ç –∞–≤—Ç–æ—Ä—ã ‚Äì –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –í–æ—Ç –Ω–∞–±–æ—Ä —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª¬†[semver.org](https://semver.org/lang/ru/), —É–∫–∞–∑—ã–≤–∞—é—â–∏—Ö, –∫–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏:

-   –ú–∞–∂–æ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è: –∫–æ–≥–¥–∞ —Å–¥–µ–ª–∞–Ω—ã –æ–±—Ä–∞—Ç–Ω–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API.
-   –ú–∏–Ω–æ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è: –∫–æ–≥–¥–∞ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–µ –Ω–∞—Ä—É—à–∞—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
-   –ü–∞—Ç—á-–≤–µ—Ä—Å–∏—è: –∫–æ–≥–¥–∞ –≤—ã –¥–µ–ª–∞–µ—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

–ï—â–µ –±–æ–ª–µ–µ –≤–∞–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤—ã –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç–µ —á—å—é-–ª–∏–±–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ npm –±–µ—Ä–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è¬†`^`¬†(—Å–ª–µ–¥—É—é—â–∞—è –º–ª–∞–¥—à–∞—è –≤–µ—Ä—Å–∏—è).

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í —ç—Ç–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π npm –∏ —É–∑–Ω–∞–ª–∏:

-   –≤ –∫–∞–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö (`package.json`,¬†`package-lock.json`).
-   –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω (`npm install`), –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (`npm ci`) –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –ø–∞–∫–µ—Ç–æ–≤ (`npm audit`).
-   –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (`npm publish`).
