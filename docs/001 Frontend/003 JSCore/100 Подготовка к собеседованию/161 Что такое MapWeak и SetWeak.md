---
title: Что такое MapWeak и SetWeak?
draft: false
tags:
  - "#JavaScript"
  - "#WeakMap"
  - "#WeakSet"
info:
  - https://learn.javascript.ru/weakmap-weakset
---
`MapWeak` и `SetWeak` - это две коллекции в JavaScript, которые работают на основе слабых ссылок (weak references). Они могут использоваться для хранения данных, которые должны быть удалены из памяти, когда на них нет больше ссылок.

*`MapWeak`* - это коллекция, которая состоит из пар ключ-значение. Ключами могут быть любые объекты, включая другие коллекции и функции. Значениями могут быть любые объекты, включая примитивные значения. В отличие от обычной `Map`, ключи в `MapWeak` являются слабыми ссылками, что означает, что они не помешают удалению объектов, на которые они ссылается, если больше нет других ссылок на эти объекты. То есть, если объект, на который ссылается ключ, удален из памяти, то ключ также будет удален из `MapWeak`.

*`SetWeak`* - это коллекция, которая хранит уникальные объекты. В отличие от обычного `Set`, объекты в `SetWeak` также являются слабыми ссылками, что означает, что они не помешают удалению объектов, на которые они ссылается, если больше нет других ссылок на эти объекты. То есть, если объект, на который ссылается элемент `SetWeak`, удален из памяти, то элемент также будет удален из `SetWeak`.

Стоит отметить, что использование `MapWeak` и `SetWeak` может быть полезным в приложениях, где необходимо хранить большое количество объектов, но нужно избегать утечек памяти. Однако, использование слабых ссылок может привести к тому, что некоторые объекты будут удалены из коллекции, даже если на них еще есть ссылки в других частях приложения. Поэтому использование `MapWeak` и `SetWeak` следует ограничивать только там, где это действительно необходимо.

---

[[003 JSCore|Назад]]