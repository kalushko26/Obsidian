---
title: Что такое `ReactDOMServer`?
draft: false
tags:
  - "#React"
  - "#reactDOMServer"
  - "#SSR"
info:
  - https://habr.com/ru/articles/551948/
  - https://www.youtube.com/watch?v=p0hogFeLk40
---
![[Pasted image 20230704173433.png|600]]

**`ReactDOMServer`

`ReactDOMServer` - это _объект, который предоставляет инструменты для рендеринга React-компонентов на серверной стороне._ Он используется для создания статических HTML-страниц, которые могут быть отправлены клиенту для отображения.

`ReactDOMServer` предоставляет методы для рендеринга React-компонентов в различные форматы, такие как HTML, JSON, XML и т.д. Некоторые из методов, предоставляемых `ReactDOMServer`, включают:

- `renderToString()`: метод, который используется для рендеринга React-компонентов в HTML-строку. Он возвращает строку, содержащую HTML-разметку, которая соответствует виртуальному DOM, созданному React-компонентом.
- `renderToStaticMarkup()`: метод, который используется для рендеринга React-компонентов в статическую HTML-разметку. Он возвращает строку, содержащую элементы HTML без обработки событий и атрибутов, которые не поддерживаются на стороне сервера.

**`Server-side rendering`

**Server Side Rendering (`SSR`)** означает, что ваше приложение будет отображаться на стороне сервера, а уже отрендеренный HTML будет отправлен на клиент. Это отличается от того, что обычно происходит в Single Page Applications (`SPA`), где все рендерится на стороне клиента (Client Side Rendering).

**Преимущества SSR:**

1. **Улучшенная производительность:** При SSR пользователь получает уже отрендеренную страницу, что ускоряет время первой загрузки контента (First Contentful Paint - FCP), что особенно важно для пользователей с медленным интернетом.
2. **Лучше для SEO:** Поисковые роботы могут лучше индексировать страницы, которые полностью отрендерены на сервере. Это особенно важно для сайтов, где SEO играет большую роль.
3. **Доступность контента при отключенном JavaScript:** Некоторые пользователи отключают JavaScript в своих браузерах, и SSR позволяет им видеть контент даже в таких условиях.

**Недостатки SSR:**

1. **Большая нагрузка на сервер:** Так как сервер теперь отвечает за рендеринг приложения, это может привести к увеличению нагрузки на него, что в свою очередь может привести к увеличению затрат на его поддержку.
2. **Комплексность разработки:** SSR может усложнить архитектуру приложения, так как теперь нужно учитывать и клиентскую, и серверную стороны. Это может привести к увеличению времени разработки и сложности поддержки приложения.
3. **Больше времени на "Time to Interactive":** Хоть и контент появляется быстрее благодаря SSR, но пользователь не сможет взаимодействовать со страницей до тех пор, пока весь JavaScript не будет загружен и выполнен. Это может вызвать ситуацию, когда пользователь видит контент, но не может с ним взаимодействовать.

**Особенности построения SSR приложения:**

- Вам нужно будет использовать специальные инструменты, такие как Next.js для React, которые поддерживают SSR "из коробки".
- Вам нужно будет учесть, что некоторые библиотеки могут не работать в SSR, потому что они рассчитаны на работу только в браузере.
- Вам потребуется управление состоянием, которое может работать и на клиенте, и на сервере.
- Вам нужно будет учесть, что при SSR запросы к API могут выполняться дважды: один раз на сервере при первоначальном рендеринге, и еще раз на клиенте при гидратации приложения.
- Вам нужно будет учесть, что сервер должен иметь возможность обрабатывать исходящий трафик (в случае запросов к API) и входящий трафик (в случае запросов от клиентов) одновременно.
- Наконец, вам нужно будет учесть, что у вас может быть необходимость в кэшировании SSR-страниц, чтобы уменьшить нагрузку на сервер.

---

[[004 ReactCore|Назад]]