---
title: AJAX и обращение к API
draft: false
tags:
  - "#React"
  - "#AJAX"
  - "#API"
  - "#componentDidMount"
info:
---
Вы можете использовать встроенный в браузер метод [window.fetch](https://learn.javascript.ru/fetch)

Вы можете сделать #AJAX-запрос в [`componentDidMount`](https://ru.reactjs.org/docs/react-component.html#mounting). Когда вы получите данные, вызовите `setState`, чтобы передать их компоненту.

Для этого есть несколько причин:

- Следующая реализация алгоритма сверки в React будет иметь возможность запускать и останавливать рендеринг для повышения производительности. Одним из результатов нововведений является то, что *componentWillMount* (часть цикла событий, где возможно стоит реализовать AJAX-запрос) будет “не детерминированным”. Это означает то, то React может вызывать *componentWillMount* в разное время, когда он чувствует в этом необходимость. Это, очевидно, плохая формула для создания AJAX-запроса.
- Вы не можете гарантировать, что AJAX-запрос не будет разрешен (resolve) перед моментом монтирования компонента. Если да, то это будет означать, что вы пытаетесь выполнить *setState* над демонтированным компонентом и вы обязательно получите сообщение об этом от React. Делайте AJAX-запросы в *componentDidMount*, чтобы гарантировать, что компонент для обновления присутствует.

---

[[004 ReactCore|Назад]]