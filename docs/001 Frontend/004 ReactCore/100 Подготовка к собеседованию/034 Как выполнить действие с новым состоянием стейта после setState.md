---
title: Как выполнить действие с новым состоянием стейта после setState?
draft: false
tags:
  - "#React"
  - "#setState"
info:
---
Если вам нужно выполнить какое-либо действие с новым состоянием компонента после обновления его состояния с помощью метода `setState()`, то вы можете использовать функцию обратного вызова, которую можно передать в качестве второго аргумента в `setState()`.

_Функция обратного вызова будет вызвана после того, как состояние компонента будет обновлено и компонент будет перерисован. В этой функции вы можете выполнить любое действие с новым состоянием компонента._

Например, представим, что у нас есть компонент `Counter`, который отображает счетчик и имеет кнопку для его увеличения. Мы можем использовать `setState()` для обновления состояния компонента при нажатии на кнопку и выполнения дополнительного действия с новым состоянием в функции обратного вызова:

```jsx
class Counter extends React.Component {
  constructor(props) {
    super(props)
    this.state = { count: 0 }
    this.handleClick = this.handleClick.bind(this)
  }

  handleClick() {
    this.setState({ count: this.state.count + 1 }, () => {
      console.log("New count:", this.state.count)
      // выполнить любое другое действие с новым состоянием здесь
    })
  }

  render() {
    return (
      <div>
        <p>Count: {this.state.count}</p>
        <button onClick={this.handleClick}>Increment</button>
      </div>
    )
  }
}
```

Здесь мы передаем функцию обратного вызова вторым аргументом в `setState()`, которая выводит обновленное значение счетчика в консоль и может выполнить любое другое действие с новым состоянием компонента. При каждом клике на кнопку `Increment` вызывается `setState()`, обновляя состояние компонента и вызывая функцию обратного вызова после обновления.

---

[[004 ReactCore|Назад]]