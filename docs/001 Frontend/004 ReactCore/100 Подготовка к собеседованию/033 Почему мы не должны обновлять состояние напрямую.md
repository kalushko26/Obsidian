---
title: Почему мы не должны обновлять состояние напрямую?
draft: false
tags:
  - "#React"
  - "#setState"
info:
---
В React _состояние компонентов следует обновлять только с помощью метода `setState()`, а не напрямую. Это связано с тем, что напрямую обновлять состояние может привести к неожиданным результатам и ошибкам в работе приложения._

_Когда мы обновляем состояние напрямую, мы не гарантируем, что React будет уведомлен о том, что состояние изменилось, и не сможет обновить соответствующие элементы в DOM. Это может привести к несоответствию данных между компонентами React и DOM, а также может привести к ошибкам в работе приложения._

Например, если мы хотим обновить состояние компонента, мы должны использовать метод `setState()` вместо напрямую изменения свойства `state`:

```jsx
class MyComponent extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      count: 0,
    }
  }

  handleClick() {
    // Неправильно: обновляем состояние напрямую
    // this.state.count++;

    // Правильно: обновляем состояние с помощью метода setState()
    this.setState({ count: this.state.count + 1 })
  }

  render() {
    return <button onClick={() => this.handleClick()}>Click me ({this.state.count})</button>
  }
}
```

В этом примере мы определяем метод `handleClick()`, который вызывается при клике на кнопку. Мы обновляем состояние компонента с помощью метода `setState()`, передавая ему новое значение для свойства `count`. Мы используем значение свойства `count` в элементе `button`, чтобы отображать текущее значение счетчика.

---

[[004 ReactCore|Назад]]