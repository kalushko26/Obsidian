---
title: Как предотвратить повторный рендеринг в React?
draft: false
tags:
  - "#React"
  - "#shouldComponentUpdate"
  - "#pureComponent"
  - "#useCallback"
  - "#useMemo"
  - "#memo"
info:
  - https://codesandbox.io/s/react-senior-rerender-nfdgns
---
В React повторный рендеринг компонентов может привести к ухудшению производительности, так как это может привести к ненужному перерисовыванию компонентов и увеличению времени выполнения кода. Ниже представлены несколько способов, которые могут помочь предотвратить повторный рендеринг в React:

1. Использование _shouldComponentUpdate()_ или _PureComponent_ - метод shouldComponentUpdate() позволяет определить, нужно ли перерисовывать компонент при изменении его свойств или состояния. Если метод возвращает false, компонент не будет перерисовываться. _PureComponent является альтернативой shouldComponentUpdate() и автоматически реализует этот метод, сравнивая свойства и состояние компонента._ Однако, использование PureComponent имеет некоторые ограничения, и может не быть подходящим для всех случаев.
2. Использование _React.memo()_ - функция _React.memo() позволяет кэшировать результаты выполнения компонента и избежать повторных перерисовок_. Эта функция принимает компонент и возвращает новый компонент, который будет перерисовываться только при изменении его свойств. Например:

```jsx
import React from "react"

const MyComponent = React.memo(({ prop1, prop2 }) => {
  return (
    <div>
      {prop1} {prop2}
    </div>
  )
})

export default MyComponent
```

3. Использование _useCallback()_ - функция _useCallback() позволяет кэшировать колбэк-функции и избежать повторных созданий функций при каждом рендеринге компонента_. Это может улучшить производительность в случаях, когда колбэк-функции передаются в дочерние компоненты. Например:

```jsx
import React, { useCallback } from "react"

const MyComponent = ({ onClick }) => {
  const handleClick = useCallback(() => {
    onClick("clicked")
  }, [onClick])

  return <button onClick={handleClick}>Click me</button>
}

export default MyComponent
```

4. Использование _useMemo()_ - функция _useMemo() позволяет кэшировать результаты выполнения функций и избежать повторных вычислений при каждом рендеринге компонента._ Это может улучшить производительность в случаях, когда функция выполняется много раз или зависит от сложных вычислений. Например:

```jsx
import React, { useMemo } from "react"

const MyComponent = ({ items }) => {
  const total = useMemo(() => {
    return items.reduce((acc, item) => acc + item.price, 0)
  }, [items])

  return <div>Total: {total}</div>
}

export default MyComponent
```

В целом, использование методов оптимизации производительности в React может помочь улучшить работу приложения и предотвратить повторный рендеринг компонентов. Однако, не следует злоупотреблять этими методами и использовать их там, где это не нужно.

---

[[004 ReactCore|Назад]]