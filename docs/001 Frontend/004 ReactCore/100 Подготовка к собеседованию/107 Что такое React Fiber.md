---
title: Что такое React Fiber?
draft: false
tags:
  - "#React"
  - "#fiber"
  - "#reconciliation"
  - "#VirtualDOM"
  - concurrentMode
info:
  - https://habr.com/ru/articles/444276/
  - https://dev.to/jennypollard/chto-takoie-react-fiber-react-fiber-architecture-2cho
  - https://www.youtube.com/watch?v=TYEIovD-llI
  - https://habr.com/ru/articles/662549/
  - https://my-js.org/blog/react-18/
  - https://web.dev/long-tasks-devtools/#what-are-long-tasks
  - https://reactjs.org/docs/concurrent-mode-intro.html
  - https://react.dev/blog/2022/03/08/react-18-upgrade-guide
  - https://habr.com/ru/companies/yandex/articles/514016/comments/
---
![[Pasted image 20230704195043.png|600]]

_Fiber_ был введен в React начиная с версии 16 в 2017 году. Он позволил увеличить FPS отображения элементов на экране до 60 кадров в секунду. Это переработанный и улучшенный алгоритм согласования _(`reconciliation`)_ компонентов и обновления DOM-дерева, который разбивает работу на мелкие части (фибры-волокна) в виде дерева односвязного списка, они могут быть приостановлены и возобновлены по мере необходимости.

_Основная цель React Fiber_ - это улучшение производительности React-приложений путем уменьшения времени блокировки главного потока выполнения JavaScript (JavaScript main thread). _Это означает, что React может перераспределять ресурсы процессора между фибрами и использовать дополнительные потоки выполнения для выполнения тяжелых задач._

**Планировщик задач

_Фибры разбиваются и выполняются по приоритету выполнения. Регулирует приоритетность выполнения работ - планировщик Fiber._ Ниже приведены различные типы работ, упорядоченные по приоритету от самого высокого к самому низкому:

1. **Анимация (Animation)**.
2. **Synchronous (Sync)**: \*Это самый высокий приоритет. Работы синхронного типа выполняются немедленно, не ожидая прерывания или приостановки.
3. **Task**: Работы типа Task имеют ниже приоритет, чем синхронные работы. _Они представляют асинхронные задачи, такие как обработка сетевых запросов (AJAX), выполнение таймеров или других асинхронных операций._
4. **High Priority**: Работы с высоким приоритетом имеют более высокий приоритет, чем работы низкого приоритета, и выполняются после завершения задач и синхронных работ. _Этот тип работы может использоваться для обработки важных событий или изменений данных, которые должны быть обновлены немедленно, но не критичны для отзывчивости пользовательского интерфейса._
5. **Normal Priority**: Работы типа Normal Priority выполняются после всех задач, синхронных работ и работ с высоким приоритетом. _Они представляют типичные задачи перерисовки компонентов и обновления состояния._ Большинство обычных операций React выполняются с помощью работ нормального приоритета.
6. **Low Priority**: Работы с низким приоритетом имеют наименьший приоритет и выполняются после всех других работ. _Они обычно используются для задач, которые не требуют мгновенной обработки и могут быть отложены до более подходящего момента._ Например, загрузка данных с сервера, предварительное вычисление или другие несрочные операции могут быть запланированы как работы с низким приоритетом.

---

[[004 ReactCore|Назад]]