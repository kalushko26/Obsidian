---
title: Что такое Reselect и как он работает?
draft: false
tags:
  - "#React"
  - "#Redux"
  - "#reselect"
  - "#selector"
info:
  - https://habr.com/ru/articles/490526/
  - https://github.com/reduxjs/reselect
---
![[Pasted image 20230704193915.png|600]]

_Reselect_ - это библиотека для работы с селекторами .

_Селекторы_ - это функции, которые позволяют получать данные из состояния приложения и преобразовывать их перед передачей в компоненты.

_Reselect_ предоставляет удобный API для создания мемоизированных (memoized) селекторов, которые кэшируют результаты своих вычислений и пересчитывают их только тогда, когда их входные данные изменились.

Работа Reselect происходит следующим образом:

1. _Определение селекторов:_ Создаются селекторы с помощью функции `createSelector()`, которая принимает входные данные и функцию-трансформер.
2. _Селекторы выполняются:_ Когда компонент запрашивает данные из состояния приложения, селекторы выполняются и получают соответствующие данные из состояния.
3. _Результаты кэшируются:_ Результаты вычислений сохраняются в кэше селектора.
4. _Проверка входных данных:_ При следующем вызове селектора, его входные данные сравниваются с предыдущими значениями. Если данные не изменились, то результаты берутся из кэша, иначе селектор выполняется заново.
5. _Результаты возвращаются компоненту:_ Результаты вычислений передаются в компоненты через свойства (props).

Это позволяет улучшить производительность приложения, уменьшив количество вычислений, которые выполняются повторно.

Вот пример создания мемоизированного селектора с помощью Reselect:

```jsx
import { createSelector } from "reselect"

const getItems = (state) => state.items
const getFilter = (state) => state.filter

const getFilteredItems = createSelector([getItems, getFilter], (items, filter) => {
  return items.filter((item) => item.name.includes(filter))
})

export default getFilteredItems
```

В этом примере создается селектор getFilteredItems, который получает данные из состояния приложения (items и filter) и фильтрует их на основе значения filter. Селектор мемоизируется с помощью Reselect, что позволяет повторно использовать результаты вычислений, если входные данные не изменились.

---

[[004 ReactCore|Назад]]