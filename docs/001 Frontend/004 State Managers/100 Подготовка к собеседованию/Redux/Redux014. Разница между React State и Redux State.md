---
title: Разница между React State и Redux State?
draft: false
tags:
  - "#React"
  - "#Redux"
  - "#state"
info:
  - https://habr.com/ru/articles/509118/
---
![[Pasted image 20230704193114.png|600]]

React State и Redux State - это два различных способа управления состоянием в приложении React.

_React State_ - это _внутреннее состояние_ компонента React, которое может быть изменено с помощью вызова функции setState(). _Состояние в React используется для хранения локальных данных компонента_, таких как пользовательский ввод или состояние анимации. Состояние в React является локальным для компонента и не может быть доступно для других компонентов.

_Redux State_ - это _глобальное состояние_ приложения, которое хранится в хранилище `store` и доступно для всех компонентов приложения. _Состояние в Redux используется для хранения данных, которые используются в нескольких компонентах или на разных уровнях приложения_. Cостояние может быть изменено только с помощью вызова `action`, который передает данные в `reducers` для обновления состояния.

**`store`

```jsx
import { createStore } from "redux"
import initReducer from "./reducers"

const store = createStore(reducer, initialState)
```

`store` берет на себя следующие задачи:

- содержит состояние приложения (application state);
- предоставляет доступ к состоянию с помощью [`getState()`](https://rajdee.gitbooks.io/redux-in-russian/content/docs/api/Store.html#getState);

```JSX
store.getState()
```

вернёт значение полей хранилища.

К примеру что бы посмотреть значение поля value_1 необходимо будет вызвать :

```JSX
store.getState().value_1
```

- предоставляет возможность обновления состояния с помощью [`dispatch(action)`](https://rajdee.gitbooks.io/redux-in-russian/content/docs/api/Store.html#dispatch);
- Обрабатывает отмену регистрации слушателей с помощью функции, возвращаемой [`subscribe(listener)`](https://rajdee.gitbooks.io/redux-in-russian/content/docs/api/Store.html#subscribelistener)

Позволяет получает нотификации об изменениях:

```jsx
store.subscribe(() => {
  console.log(store.getState())
})
```

React должен "знать" когда нужно обновлять компоненты `store.subscribe` сообщает о том, что state обновился и обновляет UI. `store.dispatch()` используется для обновления состояния.

- _`initialState`_ — объект, представляющий начальное состояние хранилища. Он является вторым не обязательным аргументом метода `createStore()`.

**React State vs Redux State**

|                       | React State                         | Redux State                                                                                 |
| --------------------- | ----------------------------------- | ------------------------------------------------------------------------------------------- |
| **Область видимости** | локальная                           | глобальная                                                                                  |
| **Управление**        | управляет компонентом               | управляется хранилищем                                                                      |
| **Обновление**        | обновлён вызовом функции setState() | обновлён только через `action`, который передает данные в `reducer` для изменения состояния |
| **Размер**            | содержит небольшие объёмы данных    | содержит большие объёмы данных и сложные объекты                                            |
| **Сложность**         | легче использовать                  | более сложный в освоении                                                                    |
| **Предсказуемость**   |                                     | обеспечивает предсказуемое управление состоянием                                            |

Рассмотреть вариант хранения данных в `Redux store` стоит в следующих случаях:

1. Если эти данные редко изменяются;
2. Если одни и те же данные используются в нескольких (больше 2-3) связанных компонентах или в несвязанных компонентах;
3. Если требуется отслеживать изменения данных.

---

[[004 ReactCore|Назад]]