---
title: Советы по тестированию
draft: false
tags:
  - "#react-testing-library"
  - "#data-"
  - "#testing"
info:
---
**Жизненный опыт

1. Для себя же я вывел правило: если я по фрагменту кода не могу за 1-2 минуты разобраться, что тут вообще происходит, из-за количества состояний, либо какой-нибудь сложной алгебры, то надо писать юнит-тесты.

**Ценные замечания

Замечание №1 `react-test-library`

Разработчики react-testing-library не предоставили из коробки функциональность, чтобы мы могли искать dom-элементы по CSS-классу либо по индификатору. По мнению разработчиков testing-library, пользователь не ищет элементы по CSS-классу, пользователь ищет элементы по плейсхолдерам, по тексту на кнопках и в тестах нужно это учитывать.

С одной стороны это правда, но с другой, практической стороны искать элементы по тексту/лейблу/плейсхолдеру довольно сложно во многих кейсах. Поэтому можно указывать data- testid атрибут у компонентов, с помощью которого потом можно будет искать элементы в тестах. В нашем случае мы задаём data-testid атрибут для контейнера, лоадера, кнопки и изображения.

В коде это выглядит примерно так.

```jsx
 return (
    <div data-tid="awesome-cat">
       <img data-tid="image" src={catImageUrl} />
    </div>
 );
```

_____

[[007 Jest, RTL|Назад]]