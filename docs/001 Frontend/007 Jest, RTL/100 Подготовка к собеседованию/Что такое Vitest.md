---
title: Что такое Vitest? Какую функцию выполняет? В чем отличие Vitest от Jest?
draft: false
tags:
  - testing
  - Jest
  - vitest
info:
  - https://vitest.dev/guide/
  - "[[Что такое Vitest. Как установить и запустить первый тест]]"
  - "[[Тестирование с помощью Vitest]]"
  - "[[Тестирование на примере реального проекта]]"
---
**Vitest** — это современный фреймворк для тестирования JavaScript и TypeScript, разработанный с учетом производительности и простоты использования. Он позиционируется как альтернатива Jest, но с упором на более быстрое выполнение тестов и лучшую интеграцию с современными инструментами и фреймворками, такими как Vite.

1. **Быстрое выполнение тестов**: Vitest использует Vite для быстрой сборки и выполнения тестов, что делает его особенно быстрым для проектов с большим количеством модулей.
2. **Поддержка TypeScript**: Vitest нативно поддерживает TypeScript, что упрощает написание и поддержку тестов.
3. **Модульное тестирование**: Vitest предоставляет инструменты для написания модульных тестов, включая утверждения, имитацию (mocking) и snapshot тестирование.
4. **Интеграция с Vite**: Vitest тесно интегрирован с Vite, что позволяет использовать все преимущества Vite, такие как быстрая разработка и горячая перезагрузка.
5. **Поддержка ESM и CommonJS**: Vitest поддерживает как ECMAScript Modules (ESM), так и CommonJS, что делает его гибким для различных проектов.
6. **Простая настройка**: Vitest имеет минимальные требования к настройке и может быть легко интегрирован в существующие проекты.

| **Характеристика**                 | **Jest**                                                                     | **Vitest**                                                                                                        |
| ---------------------------------- | ---------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| **Основное назначение**            | Комплексное решение для модульного, интеграционного и сквозного тестирования | Современный фреймворк для тестирования JavaScript и TypeScript с упором на производительность и интеграцию с Vite |
| **Производительность**             | Хорошая производительность, но может быть медленнее для больших проектов     | Особенно быстрый благодаря использованию Vite для сборки и выполнения тестов                                      |
| **Поддержка TypeScript**           | Поддерживает TypeScript через дополнительные плагины                         | Нативная поддержка TypeScript                                                                                     |
| **Интеграция с Vite**              | Нет нативной интеграции, но может использоваться вместе с Vite               | Тесно интегрирован с Vite, использует его для быстрой сборки и выполнения тестов                                  |
| **Поддержка ESM и CommonJS**       | Поддерживает оба формата, но может быть сложнее настроить для ESM            | Поддерживает оба формата, с упором на ESM и современные инструменты                                               |
| **Простая настройка**              | Требует некоторой настройки, особенно для больших проектов                   | Минимальные требования к настройке, легко интегрируется в существующие проекты                                    |
| **Snapshot тестирование**          | Да                                                                           | Да                                                                                                                |
| **Имитация (mocking)**             | Встроенная поддержка                                                         | Встроенная поддержка                                                                                              |
| **Параллельное выполнение тестов** | Да                                                                           | Да                                                                                                                |

```bash
npm install --save-dev vitest
```

Настройка:

Добавьте скрипт для запуска тестов в `package.json`:

```json
{
  "scripts": {
    "test": "vitest"
  }
}
```

```javascript
import { describe, it, expect } from 'vitest';

describe('sum', () => {
  it('should add two numbers', () => {
    expect(sum(1, 2)).toBe(3);
  });
});

function sum(a, b) {
  return a + b;
}
```

Заключение:

- **Jest** — это мощный и зрелый фреймворк для тестирования, который предоставляет все необходимое для написания и запуска тестов, включая имитацию и snapshot тестирование.
- **Vitest** — это современный фреймворк, который фокусируется на производительности и интеграции с Vite, предлагая быстрое выполнение тестов и нативную поддержку TypeScript.

Выбор между Jest и Vitest зависит от ваших потребностей и предпочтений. Если вам нужен зрелый и надежный инструмент с обширной экосистемой, Jest может быть лучшим выбором. Если же вам важна производительность и интеграция с современными инструментами, Vitest может стать отличной альтернативой.

____

[[007 Jest, RTL|Назад]]