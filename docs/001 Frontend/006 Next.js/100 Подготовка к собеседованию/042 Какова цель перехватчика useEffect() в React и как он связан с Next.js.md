---
title: Какова цель перехватчика `useEffect()` в React и как он связан с Next.js?
draft: false
tags:
  - NextJS
  - React
  - useEffect
info:
  - https://nextjs.org/docs/pages/building-your-application/data-fetching/client-side
---
Перехватчик `useEffect` в React используется для выполнения побочных эффектов в функциональных компонентах. Побочные эффекты могут включать в себя такие действия, как:

1. **Извлечение данных**: Загрузка данных из API или базы данных.
2. **Обновление DOM**: Изменение DOM напрямую, например, изменение заголовка документа.
3. **Подписки**: Установка и очистка подписок на события или таймеры.

`useEffect` принимает два аргумента: функцию, которая будет выполнена после каждого рендера компонента, и массив зависимостей. Если массив зависимостей пуст, эффект будет выполнен только один раз после первого рендера компонента.

В контексте Next.js, `useEffect` может быть использован для выполнения выборки данных на стороне клиента. Это особенно полезно, когда данные должны быть динамически обновлены после загрузки страницы.

Пример использования `useEffect` в Next.js:

```jsx
import React, { useEffect, useState } from 'react';

const MyComponent = () => {
  const [data, setData] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      const response = await fetch('https://api.example.com/data');
      const result = await response.json();
      setData(result);
    };

    fetchData();
  }, []); // Пустой массив зависимостей означает, что эффект будет выполнен только один раз

  return (
    <div>
      {data ? <p>{data.message}</p> : <p>Loading...</p>}
    </div>
  );
};

export default MyComponent;
```

В этом примере `useEffect` используется для выполнения асинхронного запроса к API и обновления состояния компонента с полученными данными. Этот код будет выполнен на стороне клиента после первого рендера компонента.

Таким образом, `useEffect` в React и Next.js позволяет управлять побочными эффектами в функциональных компонентах, обеспечивая гибкость и возможность динамического обновления данных после загрузки страницы.

___

[[006 Next.js|Назад]]