---
title: Что вы понимаете под code splitting в Next.js?
draft: false
tags:
  - NextJS
  - code-splitting
  - chunk
  - prefetching
info:
  - https://www.educative.io/answers/what-is-code-splitting-in-nextjs
---
Code splitting в Next.js — это техника, которая позволяет разделять ваш JavaScript код на несколько частей (чанков), чтобы уменьшить размер начального пакета и улучшить время загрузки страницы. Это помогает в оптимизации производительности вашего приложения, так как пользователи загружают только необходимый код для отображения текущей страницы, а не весь код сразу.

Next.js поддерживает автоматическое разделение кода из коробки, что означает, что каждая страница загружает только тот код, который ей нужен. Это достигается за счет использования динамического импорта (dynamic imports) и разделения кода на основе маршрутов (route-based code splitting).

Основные аспекты code splitting в Next.js:

1. **Автоматическое разделение кода**:
    - Next.js автоматически разделяет код на основе страниц. Когда вы переходите на новую страницу, Next.js загружает только необходимый для этой страницы код.

2. **Динамический импорт**:
    - Вы можете использовать динамический импорт для разделения кода на более мелкие части. Это позволяет загружать модули по требованию, что может значительно улучшить производительность.
        
    
```jsx
   import dynamic from 'next/dynamic';
   
   const DynamicComponent = dynamic(() => 
   
   import('../components/DynamicComponent'));
```
   
3. **Разделение на основе маршрутов**:
    - Next.js разделяет код на основе маршрутов, что означает, что каждая страница загружает только свой собственный код и общий код для всех страниц.

4. **Предварительная загрузка (prefetching)**:
    - Next.js поддерживает предварительную загрузку кода для страниц, на которые пользователь может перейти в будущем. Это делает переходы между страницами более быстрыми.
        
```jsx
   import Link from 'next/link';
   
   <Link href="/next-page" prefetch>
      <a>Next Page</a>
   </Link>
```

5. **Разделение на основе компонентов**:
    - Вы можете разделять код на уровне компонентов, что позволяет загружать компоненты только тогда, когда они действительно нужны.

Пример использования динамического импорта:

```jsx
import dynamic from 'next/dynamic';

const DynamicComponent = dynamic(() => import('../components/DynamicComponent'), {
  loading: () => <p>Loading...</p>,
});

function Home() {
  return (
    <div>
      <h1>Welcome to Next.js</h1>
      <DynamicComponent />
    </div>
  );
}

export default Home;
```

В этом примере `DynamicComponent` будет загружен только когда он будет использоваться на странице.

Code splitting в Next.js — это мощный инструмент для оптимизации производительности вашего приложения, позволяющий уменьшить начальный размер загружаемого кода и улучшить время загрузки страниц.

___

[[006 Next.js|Назад]]