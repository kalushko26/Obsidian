---
title: Объясните концепцию `prefetching` в Next.js и как это влияет на производительность?
draft: false
tags:
  - NextJS
  - prefetching
  - next/link
  - Link
info:
  - https://www.builder.io/blog/prefetching-nextjs-visual-guide
  - https://dev.to/itselftools/optimizing-user-experience-pre-fetching-pages-in-nextjs-with-the-link-component-4hop
---
**Prefetching** — это механизм, который позволяет заранее загружать ресурсы (такие как JavaScript, CSS и другие ассеты) для связанных страниц, чтобы ускорить их загрузку при переходе пользователя. Этот подход значительно улучшает производительность и обеспечивает более плавный и быстрый переход между страницами.

Как работает prefetching в Next.js

1. **Автоматическое prefetching**:
    - Когда вы используете компонент `Link` из `next/link` для навигации между страницами, Next.js автоматически начинает загружать ресурсы для связанных страниц, когда эти ссылки попадают в область видимости пользователя.
    - Это происходит в фоновом режиме, что позволяет загрузить страницу практически мгновенно, как только пользователь кликнет по ссылке.
        
2. **Управление prefetching**:
    - Вы можете явно указать, чтобы prefetching не происходил, установив свойство `prefetch` в `false`:
        
```jsx
   <Link href="/about" prefetch={false}>
      <a>About</a>
   </Link>
```

Это может быть полезно для страниц, которые не часто посещаются или для которых загрузка ресурсов нежелательна.

Влияние prefetching на производительность

1. **Сокращение времени загрузки страниц**:
    - Заранее загруженные ресурсы позволяют странице загружаться практически мгновенно, так как все необходимые файлы уже находятся в кэше браузера.

2. **Улучшение пользовательского опыта**:
    - Быстрые переходы между страницами делают взаимодействие с сайтом более плавным и приятным для пользователя.

3. **Эффективное использование сети**:
    - Prefetching происходит в фоновом режиме, что позволяет использовать пропускную способность сети более эффективно, не мешая основному контенту.

4. **Оптимизация для мобильных устройств**:
    - Для пользователей мобильных устройств, где скорость и стабильность сети могут быть ограничены, prefetching может значительно улучшить производительность и уменьшить время ожидания.

Пример использования

```jsx
import Link from 'next/link';

const HomePage = () => (
  <div>
    <h1>Home Page</h1>
    <Link href="/about">
      <a>About</a>
    </Link>
  </div>
);

export default HomePage;
```

В этом примере, когда пользователь просматривает домашнюю страницу, Next.js автоматически начнет загружать ресурсы для страницы `/about`, чтобы обеспечить быстрый переход при клике на ссылку.

Prefetching в Next.js — это мощный инструмент для улучшения производительности и пользовательского опыта, позволяющий заранее загружать ресурсы для связанных страниц и обеспечивать быстрые переходы между ними.

___

[[006 Next.js|Назад]]