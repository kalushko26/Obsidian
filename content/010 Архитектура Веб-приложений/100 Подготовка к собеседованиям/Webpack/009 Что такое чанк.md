### Ответ

**Чанк** — это кусок кода, который можно загружать синхронно или асинхронно. Для того чтобы загрузить чанк, необходимо немного поправить код, который занимается инициализацией. Он правится примерно так — добавляется функция window[«webpackJsonp»].

- Синхронные и асинхронные  
- В первый файл добавляется функция window[«webpackJsonp»]  
- В следующих файлах вызывается функция webpackJsonp со списком модулей и id модулей, которые надо запустить  
- Все модули попадают в общий массив и используются оттуда

![[Pasted image 20231003182242.png|600]]

Дальше, после того, как мы это все загрузили, `webpack` берет загруженные модули и просто по нужным индексам добавляет в изначальный массив. Больше ничего не происходит, дальше продолжаем использовать первый массив.  
  
С *синхронными чанками* все просто. *У нас есть два файла: сначала мы загрузили файл, в котором есть код подгрузки, потом после него добавили еще один файл, в котором подгружаем следующий кусок модулей.* Здесь необходимо понимать: если мы грузим его так, то нам важен порядок и, соответственно, мы не можем добавлять асинхронных подгрузок или проводить параллельную загрузку, потому что вторая функция выполнится, ничего не найдет и все сломает.  
  
*Асинхронные чанки* работают точно так же. Там есть всего один нюанс. *Нам нужно их грузить не в момент загрузки страницы, а отдельным запросом с помощью добавления тега script в шапку на лету.* В коде это выглядит примерно так:

![[Pasted image 20231003182325.png|600]]

___
tags: #webpack #bundle #chunk 
___

### [[010 Архитектура Веб-приложений|Назад]]